@let user = user$();

@if(user != null || undefined) {

<div class="chat-container">
  <div *ngFor="let chat of (chats$ | async)" class="chat-message">
    <mat-card appearance="outlined">
      <mat-card-header>
        <div class="header-container">
          <mat-card-title>{{ chat.sender.name }}</mat-card-title>
          <mat-card-subtitle class="timestamp">{{ chat.timestamp | date: 'short' }}</mat-card-subtitle>
        </div>
      </mat-card-header>
      <mat-card-content>
        <p>{{ chat.text }}</p>
      </mat-card-content>
    </mat-card>
  </div>

  <mat-form-field appearance="outline" class="input-container">
    <mat-label>Digite sua mensagem...</mat-label>
    <textarea matInput [(ngModel)]="newChatText"></textarea>
    <button mat-icon-button matSuffix (click)="sendMessage()">
      <mat-icon>send</mat-icon> <!-- Ícone de envio -->
    </button>
  </mat-form-field>
</div>

}@else {

<p class="alert">Somente usuários autenticados podem enviar mensagens ao professor.</p>

}
